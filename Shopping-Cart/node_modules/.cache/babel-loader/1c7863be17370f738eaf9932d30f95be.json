{"ast":null,"code":"import _toConsumableArray from \"/home/anuchaudhary/Desktop/Project/React-Shopping-Cart/Shopping-Cart/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/anuchaudhary/Desktop/Project/React-Shopping-Cart/Shopping-Cart/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { ADD_TO_CART, REMOVE_ITEM, SUB_QUANTITY, ADD_QUANTITY, ADD_SHIPPING, SET_ITEMS, UPDATE_CART_COUNT } from '../actions/action-types/cart-actions';\nvar initState = {\n  items: [],\n  // Items fetched from API\n  addedItems: [],\n  // Items added to the cart\n  total: 0,\n  shipping: 0,\n  cartCount: 0\n};\n\nvar cartReducer = function cartReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case SET_ITEMS:\n      return _objectSpread({}, state, {\n        items: action.payload\n      });\n\n    case ADD_TO_CART:\n      var addedItem = state.items.find(function (item) {\n        return item.id === action.id;\n      });\n      var existedItem = state.addedItems.find(function (item) {\n        return action.id === item.id;\n      });\n\n      if (existedItem) {\n        addedItem.quantity += 1;\n        return _objectSpread({}, state, {\n          total: state.total + addedItem.price\n        });\n      } else {\n        addedItem.quantity = 1;\n\n        var _newTotal = state.total + addedItem.price;\n\n        return _objectSpread({}, state, {\n          addedItems: _toConsumableArray(state.addedItems).concat([addedItem]),\n          total: _newTotal\n        });\n      }\n\n    case REMOVE_ITEM:\n      var itemToRemove = state.addedItems.find(function (item) {\n        return action.id === item.id;\n      });\n      var newItems = state.addedItems.filter(function (item) {\n        return action.id !== item.id;\n      });\n      var newTotal = state.total - itemToRemove.price * itemToRemove.quantity;\n      return _objectSpread({}, state, {\n        addedItems: newItems,\n        total: newTotal,\n        cartCount: 0\n      });\n\n    case ADD_QUANTITY:\n      var addedItemQuantity = state.addedItems.find(function (item) {\n        return item.id === action.id;\n      });\n      addedItemQuantity.quantity += 1;\n      var addedQuantityTotal = state.total + addedItemQuantity.price;\n      return _objectSpread({}, state, {\n        total: addedQuantityTotal,\n        cartCount: state.cartCount + 1\n      });\n\n    case SUB_QUANTITY:\n      var subtractItemQuantity = state.addedItems.find(function (item) {\n        return item.id === action.id;\n      });\n\n      if (subtractItemQuantity.quantity === 1) {\n        var _newItems = state.addedItems.filter(function (item) {\n          return item.id !== action.id;\n        });\n\n        var _newTotal2 = state.total - subtractItemQuantity.price;\n\n        return _objectSpread({}, state, {\n          addedItems: _newItems,\n          total: _newTotal2,\n          cartCount: state.cartCount - 1\n        });\n      } else {\n        subtractItemQuantity.quantity -= 1;\n        var subtractedQuantityTotal = state.total - subtractItemQuantity.price;\n        return _objectSpread({}, state, {\n          total: subtractedQuantityTotal\n        });\n      }\n\n    case ADD_SHIPPING:\n      return _objectSpread({}, state, {\n        shipping: 6,\n        total: state.total + 6\n      });\n\n    case UPDATE_CART_COUNT:\n      return _objectSpread({}, state, {\n        cartCount: action.payload\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["/home/anuchaudhary/Desktop/Project/React-Shopping-Cart/Shopping-Cart/src/components/reducers/cartReducer.js"],"names":["ADD_TO_CART","REMOVE_ITEM","SUB_QUANTITY","ADD_QUANTITY","ADD_SHIPPING","SET_ITEMS","UPDATE_CART_COUNT","initState","items","addedItems","total","shipping","cartCount","cartReducer","state","action","type","payload","addedItem","find","item","id","existedItem","quantity","price","newTotal","itemToRemove","newItems","filter","addedItemQuantity","addedQuantityTotal","subtractItemQuantity","subtractedQuantityTotal"],"mappings":"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","sourcesContent":["import { ADD_TO_CART, REMOVE_ITEM, SUB_QUANTITY, ADD_QUANTITY, ADD_SHIPPING, SET_ITEMS,UPDATE_CART_COUNT } from '../actions/action-types/cart-actions';\r\n\r\nconst initState = {\r\n    items: [], // Items fetched from API\r\n    addedItems: [], // Items added to the cart\r\n    total: 0,\r\n    shipping: 0,\r\n    cartCount: 0,\r\n};\r\n\r\nconst cartReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case SET_ITEMS:\r\n            return {\r\n                ...state,\r\n                items: action.payload,\r\n            };\r\n        case ADD_TO_CART:\r\n            const addedItem = state.items.find(item => item.id === action.id);\r\n            const existedItem = state.addedItems.find(item => action.id === item.id);\r\n\r\n            if (existedItem) {\r\n                addedItem.quantity += 1;\r\n                return {\r\n                    ...state,\r\n                    total: state.total + addedItem.price,\r\n                };\r\n            } else {\r\n                addedItem.quantity = 1;\r\n                const newTotal = state.total + addedItem.price;\r\n                return {\r\n                    ...state,\r\n                    addedItems: [...state.addedItems, addedItem],\r\n                    total: newTotal,\r\n                };\r\n            }\r\n        case REMOVE_ITEM:\r\n            const itemToRemove = state.addedItems.find(item => action.id === item.id);\r\n            const newItems = state.addedItems.filter(item => action.id !== item.id);\r\n            const newTotal = state.total - itemToRemove.price * itemToRemove.quantity;\r\n\r\n            return {\r\n                ...state,\r\n                addedItems: newItems,\r\n                total: newTotal,\r\n                cartCount: 0,\r\n            };\r\n        case ADD_QUANTITY:\r\n            const addedItemQuantity = state.addedItems.find(item => item.id === action.id);\r\n            addedItemQuantity.quantity += 1;\r\n            const addedQuantityTotal = state.total + addedItemQuantity.price;\r\n\r\n            return {\r\n                ...state,\r\n                total: addedQuantityTotal,\r\n                cartCount: state.cartCount+1,\r\n            };\r\n        case SUB_QUANTITY:\r\n            const subtractItemQuantity = state.addedItems.find(item => item.id === action.id);\r\n\r\n            if (subtractItemQuantity.quantity === 1) {\r\n                const newItems = state.addedItems.filter(item => item.id !== action.id);\r\n                const newTotal = state.total - subtractItemQuantity.price;\r\n\r\n                return {\r\n                    ...state,\r\n                    addedItems: newItems,\r\n                    total: newTotal,\r\n                    cartCount: state.cartCount-1\r\n                };\r\n            } else {\r\n                subtractItemQuantity.quantity -= 1;\r\n                const subtractedQuantityTotal = state.total - subtractItemQuantity.price;\r\n\r\n                return {\r\n                    ...state,\r\n                    total: subtractedQuantityTotal,\r\n                };\r\n            }\r\n        case ADD_SHIPPING:\r\n            return {\r\n                ...state,\r\n                shipping: 6,\r\n                total: state.total + 6,\r\n            };\r\n\r\n            case UPDATE_CART_COUNT:\r\n                return {\r\n                    ...state,\r\n                    cartCount: action.payload,\r\n                };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default cartReducer;\r\n"]},"metadata":{},"sourceType":"module"}