{"ast":null,"code":"import _toConsumableArray from \"/home/anuchaudhary/Desktop/Project/React-Shopping-Cart/Shopping-Cart/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _objectSpread from \"/home/anuchaudhary/Desktop/Project/React-Shopping-Cart/Shopping-Cart/node_modules/@babel/runtime/helpers/esm/objectSpread\";\nimport { ADD_TO_CART, REMOVE_ITEM, SUB_QUANTITY, ADD_QUANTITY, ADD_SHIPPING, SET_ITEMS } from '../actions/action-types/cart-actions';\nvar initState = {\n  items: [],\n  // Items fetched from API\n  addedItems: [],\n  // Items added to the cart\n  total: 0,\n  shipping: 0\n};\n\nvar cartReducer = function cartReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n\n  switch (action.type) {\n    case SET_ITEMS:\n      return _objectSpread({}, state, {\n        items: action.payload\n      });\n\n    case ADD_TO_CART:\n      var addedItem = state.items.find(function (item) {\n        return item.id === action.id;\n      });\n      var existedItem = state.addedItems.find(function (item) {\n        return action.id === item.id;\n      });\n\n      if (existedItem) {\n        addedItem.quantity += 1;\n        return _objectSpread({}, state, {\n          total: state.total + addedItem.price\n        });\n      } else {\n        addedItem.quantity = 1;\n\n        var _newTotal = state.total + addedItem.price;\n\n        return _objectSpread({}, state, {\n          addedItems: _toConsumableArray(state.addedItems).concat([addedItem]),\n          total: _newTotal\n        });\n      }\n\n    case REMOVE_ITEM:\n      var itemToRemove = state.addedItems.find(function (item) {\n        return action.id === item.id;\n      });\n      var newItems = state.addedItems.filter(function (item) {\n        return action.id !== item.id;\n      });\n      var newTotal = state.total - itemToRemove.price * itemToRemove.quantity;\n      return _objectSpread({}, state, {\n        addedItems: newItems,\n        total: newTotal\n      });\n\n    case ADD_QUANTITY:\n      var addedItemQuantity = state.addedItems.find(function (item) {\n        return item.id === action.id;\n      });\n      addedItemQuantity.quantity += 1;\n      var addedQuantityTotal = state.total + addedItemQuantity.price;\n      return _objectSpread({}, state, {\n        total: addedQuantityTotal\n      });\n\n    case SUB_QUANTITY:\n      var subtractItemQuantity = state.addedItems.find(function (item) {\n        return item.id === action.id;\n      });\n\n      if (subtractItemQuantity.quantity === 1) {\n        var _newItems = state.addedItems.filter(function (item) {\n          return item.id !== action.id;\n        });\n\n        var _newTotal2 = state.total - subtractItemQuantity.price;\n\n        return _objectSpread({}, state, {\n          addedItems: _newItems,\n          total: _newTotal2\n        });\n      } else {\n        subtractItemQuantity.quantity -= 1;\n        var subtractedQuantityTotal = state.total - subtractItemQuantity.price;\n        return _objectSpread({}, state, {\n          total: subtractedQuantityTotal\n        });\n      }\n\n    case ADD_SHIPPING:\n      return _objectSpread({}, state, {\n        shipping: 6,\n        total: state.total + 6\n      });\n\n    default:\n      return state;\n  }\n};\n\nexport default cartReducer;","map":{"version":3,"sources":["/home/anuchaudhary/Desktop/Project/React-Shopping-Cart/Shopping-Cart/src/components/reducers/cartReducer.js"],"names":["ADD_TO_CART","REMOVE_ITEM","SUB_QUANTITY","ADD_QUANTITY","ADD_SHIPPING","SET_ITEMS","initState","items","addedItems","total","shipping","cartReducer","state","action","type","payload","addedItem","find","item","id","existedItem","quantity","price","newTotal","itemToRemove","newItems","filter","addedItemQuantity","addedQuantityTotal","subtractItemQuantity","subtractedQuantityTotal"],"mappings":"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","sourcesContent":["import { ADD_TO_CART, REMOVE_ITEM, SUB_QUANTITY, ADD_QUANTITY, ADD_SHIPPING, SET_ITEMS } from '../actions/action-types/cart-actions';\r\n\r\nconst initState = {\r\n    items: [], // Items fetched from API\r\n    addedItems: [], // Items added to the cart\r\n    total: 0,\r\n    shipping: 0,\r\n};\r\n\r\nconst cartReducer = (state = initState, action) => {\r\n    switch (action.type) {\r\n        case SET_ITEMS:\r\n            return {\r\n                ...state,\r\n                items: action.payload,\r\n            };\r\n        case ADD_TO_CART:\r\n            const addedItem = state.items.find(item => item.id === action.id);\r\n            const existedItem = state.addedItems.find(item => action.id === item.id);\r\n\r\n            if (existedItem) {\r\n                addedItem.quantity += 1;\r\n                return {\r\n                    ...state,\r\n                    total: state.total + addedItem.price,\r\n                };\r\n            } else {\r\n                addedItem.quantity = 1;\r\n                const newTotal = state.total + addedItem.price;\r\n                return {\r\n                    ...state,\r\n                    addedItems: [...state.addedItems, addedItem],\r\n                    total: newTotal,\r\n                };\r\n            }\r\n        case REMOVE_ITEM:\r\n            const itemToRemove = state.addedItems.find(item => action.id === item.id);\r\n            const newItems = state.addedItems.filter(item => action.id !== item.id);\r\n            const newTotal = state.total - itemToRemove.price * itemToRemove.quantity;\r\n\r\n            return {\r\n                ...state,\r\n                addedItems: newItems,\r\n                total: newTotal,\r\n            };\r\n        case ADD_QUANTITY:\r\n            const addedItemQuantity = state.addedItems.find(item => item.id === action.id);\r\n            addedItemQuantity.quantity += 1;\r\n            const addedQuantityTotal = state.total + addedItemQuantity.price;\r\n\r\n            return {\r\n                ...state,\r\n                total: addedQuantityTotal,\r\n            };\r\n        case SUB_QUANTITY:\r\n            const subtractItemQuantity = state.addedItems.find(item => item.id === action.id);\r\n\r\n            if (subtractItemQuantity.quantity === 1) {\r\n                const newItems = state.addedItems.filter(item => item.id !== action.id);\r\n                const newTotal = state.total - subtractItemQuantity.price;\r\n\r\n                return {\r\n                    ...state,\r\n                    addedItems: newItems,\r\n                    total: newTotal,\r\n                };\r\n            } else {\r\n                subtractItemQuantity.quantity -= 1;\r\n                const subtractedQuantityTotal = state.total - subtractItemQuantity.price;\r\n\r\n                return {\r\n                    ...state,\r\n                    total: subtractedQuantityTotal,\r\n                };\r\n            }\r\n        case ADD_SHIPPING:\r\n            return {\r\n                ...state,\r\n                shipping: 6,\r\n                total: state.total + 6,\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default cartReducer;\r\n"]},"metadata":{},"sourceType":"module"}